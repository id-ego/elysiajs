---
title: Prismaì™€ì˜ í†µí•© - ElysiaJS
head:
  - - meta
    - property: 'og:title'
      content: Prismaì™€ì˜ í†µí•© - ElysiaJS

  - - meta
    - name: 'description'
      content: prismaboxë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ìœ íš¨ì„± ê²€ì‚¬, í”„ë¡ íŠ¸ì—”ë“œê¹Œì§€ ì—”ë“œíˆ¬ì—”ë“œ íƒ€ì… ì•ˆì „ì„±ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

  - - meta
    - name: 'og:description'
      content: prismaboxë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ìœ íš¨ì„± ê²€ì‚¬, í”„ë¡ íŠ¸ì—”ë“œê¹Œì§€ ì—”ë“œíˆ¬ì—”ë“œ íƒ€ì… ì•ˆì „ì„±ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
---

# Prisma
[Prisma](https://prisma.io)ëŠ” íƒ€ì… ì•ˆì „í•œ ë°©ì‹ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ì™€ ìƒí˜¸ ì‘ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ORMì…ë‹ˆë‹¤.

Prisma ìŠ¤í‚¤ë§ˆ íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆë¥¼ ì •ì˜í•œ ë‹¤ìŒ í•´ë‹¹ ìŠ¤í‚¤ë§ˆë¥¼ ê¸°ë°˜ìœ¼ë¡œ TypeScript íƒ€ì…ì„ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤.

### Prismabox
[Prismabox](https://github.com/m1212e/prismabox)ëŠ” Prisma ìŠ¤í‚¤ë§ˆì—ì„œ TypeBox ë˜ëŠ” Elysia ìœ íš¨ì„± ê²€ì‚¬ ëª¨ë¸ì„ ìƒì„±í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.

Prismaboxë¥¼ ì‚¬ìš©í•˜ì—¬ Prisma ìŠ¤í‚¤ë§ˆë¥¼ Elysia ìœ íš¨ì„± ê²€ì‚¬ ëª¨ë¸ë¡œ ë³€í™˜í•  ìˆ˜ ìˆìœ¼ë©°, ì´ë¥¼ í†µí•´ Elysiaì—ì„œ íƒ€ì… ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ë³´ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì‘ë™ ë°©ì‹:
1. Prisma Schemaì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
2. Elysia ìŠ¤í‚¤ë§ˆë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ `prismabox` generatorë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
3. ë³€í™˜ëœ Elysia ìœ íš¨ì„± ê²€ì‚¬ ëª¨ë¸ì„ ì‚¬ìš©í•˜ì—¬ íƒ€ì… ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ë³´ì¥í•©ë‹ˆë‹¤.
4. Elysia ìœ íš¨ì„± ê²€ì‚¬ ëª¨ë¸ì—ì„œ OpenAPI ìŠ¤í‚¤ë§ˆê°€ ìƒì„±ë©ë‹ˆë‹¤.
5. [Eden Treaty](/eden/overview)ë¥¼ ì¶”ê°€í•˜ì—¬ í”„ë¡ íŠ¸ì—”ë“œì— íƒ€ì… ì•ˆì „ì„±ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

```
                                                    * â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” *
                                                    |                 |
                                               | -> |  Documentation  |
* â€”â€”â€”â€”â€”â€”â€”â€”â€” *             * â€”â€”â€”â€”â€”â€”â€”â€” * OpenAPI |    |                 |
|           |  prismabox  |          | â€”â€”â€”â€”â€”â€”â€” |    * â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” *
|  Prisma   | â€”â€”â€”â€”â€”â€”â€”â€”â€”-> |  Elysia  |
|           |             |          | â€”â€”â€”â€”â€”â€”â€” |    * â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” *
* â€”â€”â€”â€”â€”â€”â€”â€”â€” *             * â€”â€”â€”â€”â€”â€”â€”â€” *   Eden  |    |                 |
                                               | -> |  Frontend Code  |
												    |                 |
												    * â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” *

```

## ì„¤ì¹˜
Prismaë¥¼ ì„¤ì¹˜í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì„¸ìš”:

```bash
bun add @prisma/client prismabox && \
bun add -d prisma
```

## Prisma ìŠ¤í‚¤ë§ˆ
ì´ë¯¸ `prisma/schema.prisma`ê°€ ìˆë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤.

ë‹¤ìŒê³¼ ê°™ì´ Prisma ìŠ¤í‚¤ë§ˆ íŒŒì¼ì— `prismabox` generatorë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

::: code-group

```ts [prisma/schema.prisma]
generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

generator prismabox { // [!code ++]
  provider = "prismabox" // [!code ++]
  typeboxImportDependencyName = "elysia" // [!code ++]
  typeboxImportVariableName = "t" // [!code ++]
  inputModel = true // [!code ++]
  output   = "../generated/prismabox" // [!code ++]
} // [!code ++]

model User {
  id    String  @id @default(cuid())
  email String  @unique
  name  String?
  posts Post[]
}

model Post {
  id    	String  @id @default(cuid())
  title     String
  content   String?
  published Boolean @default(false)
  author    User    @relation(fields: [authorId], references: [id])
  authorId  String
}
```

:::

ì´ë ‡ê²Œ í•˜ë©´ `generated/prismabox` ë””ë ‰í† ë¦¬ì— Elysia ìœ íš¨ì„± ê²€ì‚¬ ëª¨ë¸ì´ ìƒì„±ë©ë‹ˆë‹¤.

ê° ëª¨ë¸ì€ ìì²´ íŒŒì¼ì„ ê°€ì§€ë©°, ëª¨ë¸ì€ Prisma ëª¨ë¸ ì´ë¦„ì„ ê¸°ë°˜ìœ¼ë¡œ ëª…ëª…ë©ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´:
- `User` ëª¨ë¸ì€ `generated/prismabox/User.ts`ë¡œ ìƒì„±ë©ë‹ˆë‹¤
- `Post` ëª¨ë¸ì€ `generated/prismabox/Post.ts`ë¡œ ìƒì„±ë©ë‹ˆë‹¤

## ìƒì„±ëœ ëª¨ë¸ ì‚¬ìš©
ê·¸ëŸ° ë‹¤ìŒ Elysia ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ìƒì„±ëœ ëª¨ë¸ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

::: code-group

```ts [src/index.ts]
import { Elysia, t } from 'elysia'

import { PrismaClient } from '../generated/prisma' // [!code ++]
import { UserPlain, UserPlainInputCreate } from '../generated/prismabox/User' // [!code ++]

const prisma = new PrismaClient()

const app = new Elysia()
    .put(
        '/',
        async ({ body }) =>
            prisma.user.create({
                data: body
            }),
        {
            body: UserPlainInputCreate, // [!code ++]
            response: UserPlain // [!code ++]
        }
    )
    .get(
        '/id/:id',
        async ({ params: { id }, status }) => {
            const user = await prisma.user.findUnique({
                where: { id }
            })

            if (!user) return status(404, 'User not found')

            return user
        },
        {
            response: {
                200: UserPlain, // [!code ++]
                404: t.String() // [!code ++]
            }
        }
    )
    .listen(3000)

console.log(
    `ğŸ¦Š Elysia is running at ${app.server?.hostname}:${app.server?.port}`
)
```

:::

ì´ë¥¼ í†µí•´ Elysia ìœ íš¨ì„± ê²€ì‚¬ ëª¨ë¸ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆë¥¼ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

ìì„¸í•œ ì •ë³´ëŠ” [Prisma](https://prisma.io) ë° [Prismabox](https://github.com/m1212e/prismabox) ë¬¸ì„œë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.
